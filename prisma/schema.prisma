// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// Reviews model - stores customer testimonials
model Review {
  id          String   @id @default(cuid())
  name        String   // Reviewer's name
  role        String?  // Job title or role
  company     String?  // Company name
  content     String   // The review text
  rating      Int      @default(5) // 1-5 star rating
  imageUrl    String?  // Profile image URL
  result      String?  // e.g., "+300%"
  resultLabel String?  // e.g., "גידול בהכנסות"
  featured    Boolean  @default(false) // For featuring specific reviews
  verified    Boolean  @default(true) // Verified purchase/client
  active      Boolean  @default(true) // Show/hide review
  order       Int      @default(0) // Display order
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// Subscribers model - for newsletter and email campaigns
model Subscriber {
  id            String    @id @default(cuid())
  email         String    @unique
  name          String?
  phone         String?
  businessType  String?
  businessSize  String?
  source        String?   // Where they signed up (form, popup, etc.)
  status        String    @default("active") // active, unsubscribed, bounced
  subscribedAt  DateTime  @default(now())
  unsubscribedAt DateTime?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

// Leads model - for contact form submissions
model Lead {
  id           String   @id @default(cuid())
  fullName     String
  email        String
  phone        String
  businessType String?
  businessSize String?
  urgency      String?
  message      String?
  status       String   @default("new") // new, contacted, qualified, converted, closed
  notes        String?  // Admin notes
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

// Email campaigns log
model EmailCampaign {
  id          String   @id @default(cuid())
  subject     String
  content     String
  recipientCount Int
  sentAt      DateTime @default(now())
  status      String   @default("sent") // draft, sending, sent, failed
  createdAt   DateTime @default(now())
}
